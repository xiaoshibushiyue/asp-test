程序设计与算法语言Ⅱ2018-19-3机试卷
E卷（机试时间80分钟）

说明：首先在Z盘建立一个以自己的学号命名的文件夹，用于保存上交的考试文件。先在D或E盘对以下问题按要求编缉程序，调试运行，输出结果。然后将源文件和自己的头文件（若存在）复制到Z盘自己的文件夹中。

一、调试下面程序，改正其中的错误。 （50分）
【程序功能】 把数组中所有奇数，放入一个线性表中。要求：线性表空间不能浪费，每次只扩展一个数据空间。Sql()函数的功能是建立一个所有奇数的线性表。
【调试要求】在给定的程序中，只能修改语句，但不允许增加删除语句。错误的语句后面有“//”的说明。
【注意事项】将源程序以“学号_1.cpp”为文件名存入Z盘自己的目录中。
【参考答案】
 
#include<iostream.h>
#include<stdlib.h>

int Spl(int *p1,int *&p2,int m)
{
	int i,j,n=0;
	for(i=0;i<m;i++)
	{
		if(p1[i]/2==0)			//
		{
			if(n==0)
				p2=0;				//
			else
			{
				int *p4;
				p4=0;				//
				for(j=0;j<=n;j++)
					p4[j]=p2[j];
				delete []p2;
				p2=p4;
			}
			p2[m]=p1[i];			//
		}
	}
	return n;
}
void main()
{
	int num,data[20],*p;
	int i;
	for(i=0;i<20;i++)
	{
		data[i]=rand()%50;
		cout<<data[i]<<"  ";
	}
	cout<<'\n';
	num=Spl(data[],p,20);		//
	for(i=0;i<num;i++)
		cout<<p[i]<<"  ";
	cout<<endl;
	cout<<"实际数据个数:"<<num<<endl;
	delete []p;
}
二、编写一个简单的继承与派生类程序。
【要求】1.按以下描述和要求建立基类Ani(动物类)和派生类Dog(狗)，完善类中相关的所有成员函数代码。执行主函数对其测试。
注：不允许增加、减少、擅改数据成员权限等，也不允许修改main()函数。
	基类Ani
私有成员		char name[30];   //名称
	
成员函数	需要哪些成员函数，根据题目和结果要求由自己确定。

	派生类Dog
私有成员		int amont;			//数量
	
成员函数	必须包含有“+”运算符重载函数，且两对象相加时，名称固定为“狗”。其他需要哪些成员函数，根据题目和结果要求由自己确定。

2. 相关的所有成员函数由自己确定，但必须满足main()函数及得到最终结果的要求。
3. 头文件包含语句为：
#include <iostream.h>
#include <string.h>
3. 测试程序的主函数main()为：
void main()
{
	Dog d1("臧獒",10),d2("牧羊犬",15),d3;
	d1.show();
	d2.show();
	d3=d1+d2;
	d3.show();
}
4. 测试结果：
 
【注意】 将源程序以文件名“学号_2.cpp”存入Z盘自己的文件夹中。

